!yamlable/metadata
sharded_metrics: !yamlable/tree_dict
  '*':
    # rpc

    ## write, echo, vecho
    latencies:
      average: !yamlable/leaf
        value: !yamlable/metric_metadata
          plotting: !yamlable/metric_plot_metadata
            title: Average latency per shard
            unit: usec
            value_axis_title: Average latency
      max: !yamlable/leaf
        value: !yamlable/metric_metadata
          plotting: !yamlable/metric_plot_metadata
            title: Maximum latency per shard
            unit: usec
            value_axis_title: max latency
      p0.5: !yamlable/leaf
        value: !yamlable/metric_metadata
          plotting: !yamlable/metric_plot_metadata
            title: 50th percentile latency per shard
            unit: usec
            value_axis_title: p0.5 latency
      p0.95: !yamlable/leaf
        value: !yamlable/metric_metadata
          plotting: !yamlable/metric_plot_metadata
            title: 95th percentile latency per shard
            unit: usec
            value_axis_title: p0.95 latency
      p0.99: !yamlable/leaf
        value: !yamlable/metric_metadata
          plotting: !yamlable/metric_plot_metadata
            title: 99th percentile latency per shard
            unit: usec
            value_axis_title: p0.99 latency
      p0.999: !yamlable/leaf
        value: !yamlable/metric_metadata
          plotting: !yamlable/metric_plot_metadata
            title: 99.9th percentile latency per shard
            unit: usec
            value_axis_title: p0.999 latency

    # write, echo, vecho, rpc_streaming
    messages: !yamlable/leaf
      value: !yamlable/metric_metadata
        plotting: !yamlable/metric_plot_metadata
          title: Number of messages per shard
          unit: null
          value_axis_title: number of messages

    # rpc_streaming
    messages per second: !yamlable/leaf
      value: !yamlable/metric_metadata
        plotting: !yamlable/metric_plot_metadata
          title: Messages per shard
          unit: msg/s
          value_axis_title: messages per second
    throughput: !yamlable/leaf
      value: !yamlable/metric_metadata
        plotting: !yamlable/metric_plot_metadata
          title: Throughput per shard
          unit: B/s
          value_axis_title: throughput


shardless_metrics: !yamlable/tree_dict {}